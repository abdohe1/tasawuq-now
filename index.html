<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box;font-family:Tahoma,Arial}
body{margin:0;background:#f2f4f8}
header{
background:linear-gradient(135deg,#0d6efd,#0aa2c0);
padding:25px;text-align:center;color:white;
border-bottom-left-radius:25px;
border-bottom-right-radius:25px;
}
header button{
background:white;color:#0d6efd;
border:none;padding:10px 15px;
margin:5px;border-radius:12px;
font-weight:bold;cursor:pointer
}
.box{
background:white;margin:20px;
padding:20px;border-radius:16px;
box-shadow:0 3px 10px rgba(0,0,0,.08)
}
.hidden{display:none}
.admin-badge{
background:#dc3545;
color:white;
padding:4px 8px;
border-radius:8px;
font-size:12px
}
</style>
</head>

<body>

<header>
<h2>ðŸ›’ ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†</h2>
<button onclick="showHome()">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
<button onclick="showAuth()">Ø­Ø³Ø§Ø¨ÙŠ</button>
<button onclick="logout()" id="logoutBtn" class="hidden">Ø®Ø±ÙˆØ¬</button>
<span id="adminBadge" class="admin-badge hidden">ADMIN</span>
</header>

<div id="home" class="box hidden">
<h3>Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ðŸ‘‹</h3>
<p>Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© Ù‚ÙŠØ¯ Ø§Ù„Ø¨Ù†Ø§Ø¡...</p>
</div>

<div id="authBox" class="box">
<h3>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ / Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</h3>
<input id="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
<input id="password" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
<button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
<br><br>
<button onclick="register()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
</div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
import {
getAuth,
createUserWithEmailAndPassword,
signInWithEmailAndPassword,
signOut,
onAuthStateChanged
} from "https://www.gstatic.com/firebasejs/12.8.0/firebase-auth.js";

const firebaseConfig = {
apiKey: "AIzaSyBuhnSrkn6jXcCxUnbL-o14gd5pS9wRmnY",
authDomain: "tasawuq-now-eb955.firebaseapp.com",
projectId: "tasawuq-now-eb955",
storageBucket: "tasawuq-now-eb955.firebasestorage.app",
messagingSenderId: "786110830242",
appId: "1:786110830242:web:15a4752cd9b5db3f0129fb"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

const ADMIN_EMAIL = "abdoalk73@gmail.com";

const home = document.getElementById("home");
const authBox = document.getElementById("authBox");
const logoutBtn = document.getElementById("logoutBtn");
const adminBadge = document.getElementById("adminBadge");

window.showHome = () => {
home.classList.remove("hidden");
authBox.classList.add("hidden");
};

window.showAuth = () => {
authBox.classList.remove("hidden");
home.classList.add("hidden");
};

window.register = () => {
createUserWithEmailAndPassword(auth,email.value,password.value)
.catch(e=>alert(e.message));
};

window.login = () => {
signInWithEmailAndPassword(auth,email.value,password.value)
.catch(e=>alert(e.message));
};

window.logout = () => signOut(auth);

onAuthStateChanged(auth,user=>{
if(user){
showHome();
logoutBtn.classList.remove("hidden");

if(user.email === ADMIN_EMAIL){
adminBadge.classList.remove("hidden");
}else{
adminBadge.classList.add("hidden");
}

}else{
showAuth();
logoutBtn.classList.add("hidden");
adminBadge.classList.add("hidden");
}
});

</script>

</body>
</html>
