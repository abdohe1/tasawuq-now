<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ØªØ³ÙˆÙ‘Ù‚ Ø§Ù„Ø¢Ù†</title>

<style>
*{
  box-sizing:border-box;
  font-family:"Tajawal",Arial,sans-serif;
}

body{
  margin:0;
  background:#f2f4f8;
}

/* ===== Header ===== */
header{
  background:linear-gradient(135deg,#0d6efd,#0a58ca);
  color:#fff;
  padding:15px;
  text-align:center;
}

header h1{margin:0}

nav button{
  margin:8px;
  padding:8px 14px;
  border:none;
  border-radius:12px;
  font-weight:bold;
  color:#0d6efd;
}

/* ===== Pages ===== */
.page{display:none;padding:15px}
#home{display:block}

/* ===== Search ===== */
.search input{
  width:100%;
  padding:12px;
  border-radius:25px;
  border:none;
}

/* ===== Cards ===== */
.card{
  background:#fff;
  border-radius:18px;
  padding:15px;
  margin:15px 0;
  box-shadow:0 2px 8px rgba(0,0,0,.1);
}

.price{color:#198754;font-weight:bold}

.actions{
  display:flex;
  gap:10px;
  margin-top:10px;
}

.actions button{
  flex:1;
  border:none;
  padding:10px;
  border-radius:12px;
  color:#fff;
  font-weight:bold;
}

.delete{background:#dc3545}
.edit{background:#198754}

/* ===== Form ===== */
form input, form select{
  width:100%;
  padding:12px;
  margin:10px 0;
  border-radius:12px;
  border:1px solid #ccc;
}

form button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:14px;
  background:#0d6efd;
  color:#fff;
  font-size:16px;
}

/* ===== Add Button ===== */
.add-btn{
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  width:60px;
  height:60px;
  background:#f59e0b;
  color:#fff;
  font-size:30px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
}
</style>
</head>

<body>

<header>
  <h1>ğŸ›’ ØªØ³ÙˆÙ‘Ù‚ Ø§Ù„Ø¢Ù†</h1>
  <nav>
    <button onclick="showHome()">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
    <button onclick="showForm()">Ø¥Ø¶Ø§ÙØ© Ø¥Ø¹Ù„Ø§Ù†</button>
  </nav>
</header>

<!-- ===== Home ===== -->
<div id="home" class="page">
  <div class="search">
    <input placeholder="ğŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† Ø¥Ø¹Ù„Ø§Ù†">
  </div>

  <div id="ads"></div>
</div>

<!-- ===== Form ===== -->
<div id="form" class="page">
  <h3 id="formTitle">Ø¥Ø¶Ø§ÙØ© Ø¥Ø¹Ù„Ø§Ù†</h3>

  <form onsubmit="saveAd(event)">
    <input id="title" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†">
    <input id="price" placeholder="Ø§Ù„Ø³Ø¹Ø±">
    <select id="category">
      <option>Ø³ÙŠØ§Ø±Ø§Øª</option>
      <option>Ø¯Ø±Ø§Ø¬Ø§Øª</option>
      <option>Ø£Ù„Ø¹Ø§Ø¨</option>
      <option>Ø¹Ù‚Ø§Ø±Ø§Øª</option>
      <option>ÙˆØ¸Ø§Ø¦Ù</option>
    </select>
    <button>Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</button>
  </form>
</div>

<div class="add-btn" onclick="showForm()">ï¼‹</div>

<script>
let ads = JSON.parse(localStorage.getItem("ads")) || [];
let editIndex = null;

function showHome(){
  document.getElementById("home").style.display="block";
  document.getElementById("form").style.display="none";
}

function showForm(){
  document.getElementById("home").style.display="none";
  document.getElementById("form").style.display="block";
}

function saveAd(e){
  e.preventDefault();
  const title = title.value;
  const price = price.value;
  const category = category.value;

  if(!title || !price){
    alert("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
    return;
  }

  const ad = {title, price, category};

  if(editIndex === null){
    ads.push(ad);
  }else{
    ads[editIndex] = ad;
    editIndex = null;
  }

  localStorage.setItem("ads",JSON.stringify(ads));
  render();
  showHome();
}

function render(){
  adsDiv.innerHTML="";
  ads.forEach((a,i)=>{
    adsDiv.innerHTML += `
      <div class="card">
        <h3>${a.title}</h3>
        <div>${a.category}</div>
        <div class="price">ğŸ’° ${a.price}</div>
        <div class="actions">
          <button class="delete" onclick="removeAd(${i})">Ø­Ø°Ù</button>
          <button class="edit" onclick="editAd(${i})">ØªØ¹Ø¯ÙŠÙ„</button>
        </div>
      </div>
    `;
  });
}

function removeAd(i){
  if(confirm("Ø­Ø°Ù Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ØŸ")){
    ads.splice(i,1);
    localStorage.setItem("ads",JSON.stringify(ads));
    render();
  }
}

function editAd(i){
  const a = ads[i];
  title.value = a.title;
  price.value = a.price;
  category.value = a.category;
  editIndex = i;
  showForm();
}

render();
</script>

</body>
</html>
