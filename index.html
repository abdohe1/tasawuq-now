<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f2f4f8;
  color: #222;
}

header {
  background: linear-gradient(135deg,#0d6efd,#0a58ca);
  color: white;
  padding: 20px;
  text-align: center;
  border-bottom-left-radius: 25px;
  border-bottom-right-radius: 25px;
}

header h1 {
  margin: 0 0 10px;
}

header button {
  background: white;
  border: none;
  padding: 10px 16px;
  margin: 5px;
  border-radius: 12px;
  font-weight: bold;
  color: #0d6efd;
}

.container {
  padding: 15px;
}

.search {
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
}

.search input {
  flex: 1;
  padding: 12px;
  border-radius: 12px;
  border: none;
}

.categories {
  display: grid;
  grid-template-columns: repeat(3,1fr);
  gap: 10px;
  margin-bottom: 20px;
}

.cat {
  background: white;
  padding: 12px;
  border-radius: 14px;
  text-align: center;
  font-weight: bold;
}

.card {
  background: white;
  padding: 15px;
  border-radius: 16px;
  margin-bottom: 15px;
}

.price {
  color: green;
  font-weight: bold;
  font-size: 18px;
}

.actions {
  display: flex;
  gap: 10px;
  margin-top: 10px;
}

.actions button {
  flex: 1;
  padding: 10px;
  border-radius: 10px;
  border: none;
  font-weight: bold;
  color: white;
}

.delete { background: #dc3545; }
.edit { background: #198754; }

#form {
  display: none;
}

form input, form select {
  width: 100%;
  padding: 12px;
  margin-bottom: 10px;
  border-radius: 10px;
  border: none;
}

form button {
  width: 100%;
  padding: 12px;
  background: #0d6efd;
  color: white;
  border: none;
  border-radius: 12px;
  font-size: 16px;
}
</style>
</head>

<body>

<header>
  <h1>ğŸ›’ ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†</h1>
  <button onclick="showHome()">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
  <button onclick="showForm()">Ø¥Ø¶Ø§ÙØ© Ø¥Ø¹Ù„Ø§Ù†</button>
</header>

<div class="container">

<div id="home">
  <div class="search">
    <input id="search" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø¥Ø¹Ù„Ø§Ù†..." oninput="render()">
  </div>

  <div class="categories">
    <div class="cat">ğŸš— Ø³ÙŠØ§Ø±Ø§Øª</div>
    <div class="cat">ğŸ Ø¯Ø±Ø§Ø¬Ø§Øª</div>
    <div class="cat">ğŸ® Ø£Ù„Ø¹Ø§Ø¨</div>
    <div class="cat">ğŸ  Ø¹Ù‚Ø§Ø±Ø§Øª</div>
    <div class="cat">ğŸ’¼ ÙˆØ¸Ø§Ø¦Ù</div>
    <div class="cat">ğŸ“¦ Ø§Ù„ÙƒÙ„</div>
  </div>

  <div id="posts"></div>
</div>

<div id="form">
  <form onsubmit="savePost(event)">
    <input id="title" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†" required>
    <input id="price" type="number" placeholder="Ø§Ù„Ø³Ø¹Ø±" required>
    <select id="category">
      <option>Ø³ÙŠØ§Ø±Ø§Øª</option>
      <option>Ø¯Ø±Ø§Ø¬Ø§Øª</option>
      <option>Ø£Ù„Ø¹Ø§Ø¨</option>
      <option>Ø¹Ù‚Ø§Ø±Ø§Øª</option>
      <option>ÙˆØ¸Ø§Ø¦Ù</option>
    </select>
    <button>Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</button>
  </form>
</div>

</div>

<script>
let posts = JSON.parse(localStorage.getItem("posts") || "[]");
let editIndex = null;

function showForm(){
  home.style.display="none";
  form.style.display="block";
}

function showHome(){
  form.style.display="none";
  home.style.display="block";
  clearForm();
}

function savePost(e){
  e.preventDefault();
  const post = {
    title: title.value,
    price: price.value,
    category: category.value
  };

  if(editIndex === null){
    posts.push(post);
  } else {
    posts[editIndex] = post;
    editIndex = null;
  }

  localStorage.setItem("posts", JSON.stringify(posts));
  showHome();
  render();
}

function editPost(i){
  const p = posts[i];
  title.value = p.title;
  price.value = p.price;
  category.value = p.category;
  editIndex = i;
  showForm();
}

function deletePost(i){
  if(confirm("Ø­Ø°Ù Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ØŸ")){
    posts.splice(i,1);
    localStorage.setItem("posts", JSON.stringify(posts));
    render();
  }
}

function clearForm(){
  title.value="";
  price.value="";
}

function render(){
  const q = search.value || "";
  postsDiv.innerHTML="";
  posts.filter(p=>p.title.includes(q)).forEach((p,i)=>{
    postsDiv.innerHTML += `
      <div class="card">
        <h3>${p.title}</h3>
        <div>${p.category}</div>
        <div class="price">${p.price} ğŸ’°</div>
        <div class="actions">
          <button class="delete" onclick="deletePost(${i})">Ø­Ø°Ù</button>
          <button class="edit" onclick="editPost(${i})">ØªØ¹Ø¯ÙŠÙ„</button>
        </div>
      </div>
    `;
  });
}

render();
</script>

</body>
</html>
