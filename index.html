<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    * {
      box-sizing: border-box;
      font-family: Tahoma, Arial;
    }

    body {
      margin: 0;
      background: #f2f4f8;
      color: #222;
    }

    /* ===== HEADER ===== */
    header {
      background: linear-gradient(135deg, #0d6efd, #0aa2c0);
      padding: 25px;
      text-align: center;
      color: white;
      border-bottom-left-radius: 25px;
      border-bottom-right-radius: 25px;
    }

    header h1 {
      margin: 0 0 15px;
      font-size: 26px;
    }

    header button {
      background: white;
      color: #0d6efd;
      border: none;
      padding: 10px 16px;
      margin: 5px;
      border-radius: 12px;
      font-weight: bold;
      cursor: pointer;
    }

    /* ===== SEARCH ===== */
    .search-box {
      margin: 15px;
    }

    .search-box input {
      width: 100%;
      padding: 12px;
      border-radius: 12px;
      border: 1px solid #ddd;
      font-size: 16px;
    }

    /* ===== CATEGORIES ===== */
    .categories {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      padding: 15px;
    }

    .cat {
      background: white;
      padding: 15px;
      border-radius: 14px;
      text-align: center;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(0,0,0,.05);
    }

    /* ===== POSTS ===== */
    .posts {
      padding: 15px;
    }

    .post {
      background: white;
      padding: 15px;
      border-radius: 16px;
      margin-bottom: 15px;
      box-shadow: 0 3px 10px rgba(0,0,0,.08);
    }

    .post h3 {
      margin: 0 0 8px;
    }

    .price {
      color: green;
      font-weight: bold;
      font-size: 18px;
    }

    .post button {
      border: none;
      padding: 10px;
      border-radius: 10px;
      cursor: pointer;
      margin: 5px 3px 0;
      color: white;
    }

    .edit {
      background: #198754;
    }

    .delete {
      background: #dc3545;
    }

    /* ===== FORM ===== */
    #form {
      display: none;
      padding: 15px;
    }

    #form input, #form select {
      width: 100%;
      padding: 12px;
      margin-bottom: 10px;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 16px;
    }

    #form button {
      width: 100%;
      background: #0d6efd;
      color: white;
      padding: 12px;
      border: none;
      border-radius: 12px;
      font-size: 18px;
    }
  </style>
</head>

<body>

<!-- ===== HEADER ===== -->
<header>
  <h1>ğŸ›’ ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†</h1>
  <button onclick="showHome()">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
  <button onclick="showForm()">Ø¥Ø¶Ø§ÙØ© Ø¥Ø¹Ù„Ø§Ù†</button>
</header>

<!-- ===== HOME ===== -->
<div id="home">

  <div class="search-box">
    <input type="text" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø¥Ø¹Ù„Ø§Ù†..." oninput="search(this.value)">
  </div>

  <div class="categories">
    <div class="cat" onclick="filterCat('Ø§Ù„ÙƒÙ„')">ğŸ“¦ Ø§Ù„ÙƒÙ„</div>
    <div class="cat" onclick="filterCat('Ø³ÙŠØ§Ø±Ø§Øª')">ğŸš— Ø³ÙŠØ§Ø±Ø§Øª</div>
    <div class="cat" onclick="filterCat('Ø¯Ø±Ø§Ø¬Ø§Øª')">ğŸï¸ Ø¯Ø±Ø§Ø¬Ø§Øª</div>
    <div class="cat" onclick="filterCat('Ø§Ù„Ø¹Ø§Ø¨')">ğŸ® Ø§Ù„Ø¹Ø§Ø¨</div>
    <div class="cat" onclick="filterCat('Ø¹Ù‚Ø§Ø±Ø§Øª')">ğŸ  Ø¹Ù‚Ø§Ø±Ø§Øª</div>
    <div class="cat" onclick="filterCat('ÙˆØ¸Ø§Ø¦Ù')">ğŸ’¼ ÙˆØ¸Ø§Ø¦Ù</div>
  </div>

  <div class="posts" id="posts"></div>
</div>

<!-- ===== FORM ===== -->
<div id="form">
  <input id="title" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†">
  <input id="price" type="number" placeholder="Ø§Ù„Ø³Ø¹Ø±">
  <select id="category">
    <option>Ø³ÙŠØ§Ø±Ø§Øª</option>
    <option>Ø¯Ø±Ø§Ø¬Ø§Øª</option>
    <option>Ø§Ù„Ø¹Ø§Ø¨</option>
    <option>Ø¹Ù‚Ø§Ø±Ø§Øª</option>
    <option>ÙˆØ¸Ø§Ø¦Ù</option>
  </select>
  <button onclick="save()">Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</button>
</div>

<script>
  let posts = JSON.parse(localStorage.getItem("posts") || "[]");
  let editIndex = null;
  let currentCat = "Ø§Ù„ÙƒÙ„";

  function showHome() {
    document.getElementById("home").style.display = "block";
    document.getElementById("form").style.display = "none";
  }

  function showForm() {
    document.getElementById("home").style.display = "none";
    document.getElementById("form").style.display = "block";
  }

  function save() {
    const title = titleInput().value;
    const price = priceInput().value;
    const category = catInput().value;

    if (!title || !price) {
      alert("Ø£Ø¯Ø®Ù„ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
      return;
    }

    const post = { title, price, category };

    if (editIndex === null) {
      posts.push(post);
    } else {
      posts[editIndex] = post;
      editIndex = null;
    }

    localStorage.setItem("posts", JSON.stringify(posts));
    clearForm();
    showHome();
    render();
  }

  function render() {
    const box = document.getElementById("posts");
    box.innerHTML = "";

    posts.forEach((p, i) => {
      if (currentCat !== "Ø§Ù„ÙƒÙ„" && p.category !== currentCat) return;

      box.innerHTML += `
        <div class="post">
          <h3>${p.title}</h3>
          <div>${p.category}</div>
          <div class="price">${p.price} ğŸ’°</div>
          <button class="edit" onclick="edit(${i})">ØªØ¹Ø¯ÙŠÙ„</button>
          <button class="delete" onclick="removePost(${i})">Ø­Ø°Ù</button>
        </div>
      `;
    });
  }

  function edit(i) {
    const p = posts[i];
    titleInput().value = p.title;
    priceInput().value = p.price;
    catInput().value = p.category;
    editIndex = i;
    showForm();
  }

  function removePost(i) {
    if (confirm("Ø­Ø°Ù Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ØŸ")) {
      posts.splice(i, 1);
      localStorage.setItem("posts", JSON.stringify(posts));
      render();
    }
  }

  function filterCat(cat) {
    currentCat = cat;
    render();
  }

  function search(text) {
    const box = document.getElementById("posts");
    box.innerHTML = "";
    posts.forEach((p, i) => {
      if (p.title.includes(text)) {
        box.innerHTML += `
          <div class="post">
            <h3>${p.title}</h3>
            <div class="price">${p.price} ğŸ’°</div>
          </div>
        `;
      }
    });
  }

  function clearForm() {
    titleInput().value = "";
    priceInput().value = "";
  }

  const titleInput = () => document.getElementById("title");
  const priceInput = () => document.getElementById("price");
  const catInput = () => document.getElementById("category");

  render();
</script>

</body>
</html>
