<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ØªØ³ÙˆÙ‘Ù‚ Ø§Ù„Ø¢Ù† | Tasawuq Now</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body{
      font-family: Arial, sans-serif;
      background:#f5f7fa;
      margin:0;
    }
    header{
      background:#0D6EFD;
      color:#fff;
      padding:15px;
      text-align:center;
    }
    nav a{
      color:#fff;
      margin:0 10px;
      text-decoration:none;
      font-weight:bold;
    }
    .container{
      padding:15px;
      max-width:900px;
      margin:auto;
    }
    .btn{
      background:#0D6EFD;
      color:#fff;
      border:none;
      padding:10px 15px;
      border-radius:6px;
      cursor:pointer;
    }
    .card{
      background:#fff;
      padding:15px;
      margin-bottom:15px;
      border-radius:8px;
      box-shadow:0 2px 5px rgba(0,0,0,.1);
    }
    input, textarea{
      width:100%;
      padding:10px;
      margin:8px 0;
      border-radius:5px;
      border:1px solid #ccc;
    }
    .actions button{
      margin-left:5px;
      background:#198754;
    }
    .delete{
      background:#dc3545 !important;
    }
  </style>
</head>

<body>

<header>
  <h2>ğŸ›’ ØªØ³ÙˆÙ‘Ù‚ Ø§Ù„Ø¢Ù†</h2>
  <nav>
    <a href="#" onclick="showHome()">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
    <a href="#" onclick="showAdd()">Ø¥Ø¶Ø§ÙØ© Ø¥Ø¹Ù„Ø§Ù†</a>
  </nav>
</header>

<div class="container">

  <!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
  <div id="home">
    <h3>Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</h3>
    <div id="posts"></div>
  </div>

  <!-- Ø¥Ø¶Ø§ÙØ© / ØªØ¹Ø¯ÙŠÙ„ -->
  <div id="add" style="display:none">
    <h3 id="formTitle">Ø¥Ø¶Ø§ÙØ© Ø¥Ø¹Ù„Ø§Ù†</h3>
    <input id="title" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†">
    <textarea id="description" placeholder="ÙˆØµÙ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†"></textarea>
    <input id="price" placeholder="Ø§Ù„Ø³Ø¹Ø±">
    <button class="btn" onclick="savePost()">Ø­ÙØ¸</button>
  </div>

</div>

<script>
  let posts = JSON.parse(localStorage.getItem("posts")) || [];
  let editIndex = null;

  function render(){
    const container = document.getElementById("posts");
    container.innerHTML = "";
    posts.forEach((p,i)=>{
      container.innerHTML += `
        <div class="card">
          <h4>${p.title}</h4>
          <p>${p.description}</p>
          <strong>ğŸ’° ${p.price}</strong>
          <div class="actions">
            <button onclick="editPost(${i})">ØªØ¹Ø¯ÙŠÙ„</button>
            <button class="delete" onclick="deletePost(${i})">Ø­Ø°Ù</button>
          </div>
        </div>
      `;
    });
    localStorage.setItem("posts", JSON.stringify(posts));
  }

  function showAdd(){
    document.getElementById("home").style.display="none";
    document.getElementById("add").style.display="block";
  }

  function showHome(){
    document.getElementById("home").style.display="block";
    document.getElementById("add").style.display="none";
    clearForm();
  }

  function savePost(){
    const title = titleInput.value;
    const description = descriptionInput.value;
    const price = priceInput.value;

    if(editIndex === null){
      posts.push({title, description, price});
    }else{
      posts[editIndex] = {title, description, price};
      editIndex = null;
      formTitle.innerText = "Ø¥Ø¶Ø§ÙØ© Ø¥Ø¹Ù„Ø§Ù†";
    }
    render();
    showHome();
  }

  function editPost(i){
    const p = posts[i];
    titleInput.value = p.title;
    descriptionInput.value = p.description;
    priceInput.value = p.price;
    editIndex = i;
    formTitle.innerText = "ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†";
    showAdd();
  }

  function deletePost(i){
    if(confirm("Ø­Ø°Ù Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ØŸ")){
      posts.splice(i,1);
      render();
    }
  }

  function clearForm(){
    titleInput.value="";
    descriptionInput.value="";
    priceInput.value="";
  }

  const titleInput = document.getElementById("title");
  const descriptionInput = document.getElementById("description");
  const priceInput = document.getElementById("price");
  const formTitle = document.getElementById("formTitle");

  render();
</script>

</body>
</html>
